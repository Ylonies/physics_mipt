# M4  
**Шар на столе** — численное моделирование поступательного и вращательного движения шара по шероховатой поверхности с сухим трением.

Моделируются два типа задач:  
1. **Наклонная плоскость:** скатывание без проскальзывания или с возможным переходом в режим проскальзывания.  
2. **Горизонтальная плоскость:** произвольное качение под действием постоянной горизонтальной силы.

---

## Физическая модель

Рассматривается однородный шар массы \(m\) и радиуса \(R\).  
Момент инерции относительно центра:  
\[
I = \frac{2}{5} m R^2
\]

Силы, действующие на шар:
- сила тяжести \(m g\),
- сила реакции опоры,
- сила трения (модуль не превышает \(\mu m g\)),
- при необходимости внешняя сила \(F\), приложенная к центру шара (для сценария 2).

### 1. Наклонная плоскость  
- При малом трении реализуется скольжение, при достаточном — чистое качение.  
- Моделируется движение вдоль оси наклона.

### 2. Горизонтальная плоскость  
- К центру шара приложена постоянная горизонтальная сила \(F\).  
- Возможен переход между режимами качения и скольжения в зависимости от коэффициента трения \(\mu\).

---

## Входные параметры

1. **Масса шара \(m\) (кг)**  
   - Ограничения: \(m > 0\)  
   - Обоснование: масса должна быть положительной.

2. **Радиус шара \(R\) (м)**  
   - Ограничения: \(R > 0\)  
   - Обоснование: геометрически радиус не может быть отрицательным.

3. **Коэффициент сухого трения \(\mu\)**  
   - Ограничения: \(\mu \ge 0\)  
   - Обоснование: физически трение не может быть отрицательным.

### 1. Наклонная плоскость (режимы 1 и 1b)

1. **Угол наклона \(\alpha\) (°)**  
   - Ограничения: \(0 \le \alpha \le 90\)  
   - Обоснование: угол наклона измеряется относительно горизонта.

2. **Начальная скорость вдоль плоскости \(v_0\) (м/с)**  
3. **Начальная угловая скорость \(\omega_0\) (рад/с)**  
4. **Время моделирования \(t_{end}\) (с)**  

Режим *1* — чистое качение без проскальзывания.  
Режим *1b* — возможен переход в скольжение при недостаточном трении.

---

### 2. Горизонтальная плоскость (режим 2)

1. **Начальная поступательная скорость \(v_0\) (м/с)**  
2. **Начальная угловая скорость \(\omega_0\) (рад/с)**  
3. **Постоянная горизонтальная сила \(F\) (Н)**  
4. **Время моделирования \(t_{end}\) (с)**  

---

## Выходные данные

Программа вычисляет:
- координаты и скорости центра шара (\(x, y, v_x, v_y\));  
- угловые скорости (\(\omega_x, \omega_y\));  
- энергию системы (кинетическая + потенциальная);  
- индикатор проскальзывания (доли времени, когда \(v \neq \omega R\)).

---

## Запуск модели

Активируйте окружение и выполните:
```bash
uv run python -m src.m4_sphere_on_table.main
```

Далее следуйте интерактивным подсказкам в терминале для выбора сценария (1 / 1b / 2)  
и ввода параметров модели.

---

##  Тестирование

В корне проекта выполните:
```bash
uv run pytest
```
